<!doctype html>
<html lang="en">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>4. 声母+基础单元音韵腹+韵尾-u(o) | 阮玉煌 —— 越南语 - 练习发音资料 [Weixin: XiDeYueNanYu] </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="阮玉煌" />
<meta name="generator" content="eXeLearning 2.9 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
<body class="exe-web-site" id="exe-node-3"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Skip navigation</a></p>
<header id="header" ><div id="headerContent">阮玉煌 —— 越南语 - 练习发音资料 [Weixin: XiDeYueNanYu]</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Home</a></li>
   <li><a href="1_.html" class="no-ch">1. 越南语发音概况</a></li>
   <li><a href="2_uo.html" class="no-ch">2. 声母+u(o)+基础单元音韵腹</a></li>
   <li><a href="3_iy.html" class="no-ch">3. 声母+基础单元音韵腹+韵尾-i(y)</a></li>
   <li id="active"><a href="4_uo.html" class="active no-ch">4. 声母+基础单元音韵腹+韵尾-u(o)</a></li>
   <li><a href="5_uoiy.html" class="no-ch">5. 声母+u(o)+基础单元音韵腹+韵尾-i(y)</a></li>
   <li><a href="6_uouo.html" class="no-ch">6. 声母+u(o)+基础单元音韵腹+韵尾-u(o)</a></li>
   <li><a href="7_uon.html" class="no-ch">7. 声母+u(o)+基础单元音韵腹+韵尾-n</a></li>
   <li><a href="8_uong.html" class="no-ch">8. 声母+u(o)+基础单元音韵腹+韵尾-ng</a></li>
   <li><a href="9_uom.html" class="no-ch">9. 声母+u(o)+基础单元音韵腹+韵尾-m</a></li>
   <li><a href="10_uop.html" class="no-ch">10. 声母+u(o)+基础单元音韵腹+韵尾-p</a></li>
   <li><a href="11_uot.html" class="no-ch">11. 声母+u(o)+基础单元音韵腹+韵尾-t</a></li>
   <li><a href="12_uoc.html" class="no-ch">12. 声母+u(o)+基础单元音韵腹+韵尾-c</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="3_iy.html" class="prev"><span><span>&laquo; </span>Previous</span></a> <span class="sep">| </span><a href="5_uoiy.html" class="next"><span>Next<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">4. 声母+基础单元音韵腹+韵尾-u(o)</h1></header>
<article class="iDevice_wrapper textIdevice" id="id3">
<div class="iDevice emphasis0" >
<div id="ta3_130_2" class="block iDevice_content">
<div class="exe-text"><style>
        .matrix-container {
            display: inline-block;
            margin-top: 20px;
        }
        .row {
            display: flex; /* Sử dụng Flexbox để sắp xếp nút trong hàng */
            justify-content: flex-start; /* Căn trái */
            align-items: center; /* Căn giữa theo chiều dọc */
        }
        .button {
            width: 100px;
            height: 40px;
            margin: 2px;
            border: 2px solid #C0C0C0;
            border-radius: 5px;
            box-shadow: 2px 2px 4px #C0C0C0;
            cursor: pointer;
            font-size: 21px;
            font-weight: bold;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .header-button {
            background-color: #B7D7AA;
            color: #274E13;
        }
        .normal-button {
            background-color: #D9EAD3;
            color: #0C343D;
        }
        .corner-button {
            background-color: #FFFFE0; /* Màu nền cho ô [0,0] */
            color: #0C343D;
        }
        .playing {
            border: 2px solid #FF6820; /* Viền cam khi audio đang phát */
        }
        .record-button {
            background-color: #FF6820;
            color: #FFFFFF;
            width: 100px;
            height: 40px;
            font-size: 16px;
            margin: 2px;
        }
        .recording {
            background-color: #009300;
            color: #FFFFFF;
            width: 100px;
            height: 40px;
            font-size: 16px;
            margin: 2px;
        }
        .playback-button {
            background-color: #7D9EC0;
            color: #184008;
            width: 100px;
            height: 40px;
            font-size: 16px;
            margin: 2px;
        }
        .save-button {
            background-color: #CFE2F3;
            color: #184008;
            width: 100px;
            height: 40px;
            font-size: 16px;
            margin: 2px;
        }
        .controls {
            margin-top: 10px;
        }
    </style>
<p><span style="background-color: #ffff00;"><strong>注意</strong>：以下列出由单元音韵腹和元音韵尾<span style="background-color: #ccffff;"><strong> [u] </strong></span>组成的韵母与声母的常见搭配。要注意的是在书写形式上韵尾<strong><span style="background-color: #ccffff;"> [u]</span> </strong>有两种书写形式，<strong> u 和 o</strong> 。练习时要注意：</span><br /><span style="background-color: #ffff00;">+ 不要套用<strong>元音 o</strong> 的发音方法去读韵尾<strong>写作 o</strong> 的韵母，具体这里是<strong><span style="background-color: #ff9900;"> eo, ao </span> </strong>。</span><br /><span style="background-color: #ffff00;">+ 注意<strong><span style="background-color: #ff9900;"> ao, au </span> </strong>的区别 （<strong><span style="background-color: #ff9900;"> au </span> </strong>中的<strong> a</strong> 其实是<strong>短a-ă</strong>）。</span><br /><audio src="DNA-u.mp3" id="audioPlayer"><a href="DNA-u.mp3">audio/mpeg</a></audio><br /><br /><audio style="display: none;" id="playbackAudio"></audio></p>
<div id="matrix" class="matrix-container"></div>
<div class="controls"><button id="recordButton" class="button record-button">录音</button> <button id="playbackButton" class="button playback-button">试听</button> <button id="saveButton" class="button save-button">保存</button></div>
<p>
<script>
        const labels = [
            ["-u(o)", "iu", "êu", "eo", "ưu", "âu", "ao", "au"],
            ["b", "bĩu", "bêu", "béo", "bưu", "bầu", "bão", "báu"],
            ["m", "miu", "mếu", "mèo", "mưu", "mẫu", "mão", "mau"],
            ["n", "niu", "nếu", "neo", "", "nấu", "nào", "náu"],
            ["th", "thiu", "thều", "theo", "", "thấu", "thao", "thau"],
            ["t", "tiu", "tễu", "tẹo", "", "tấu", "tao", "tàu"],
            ["x", "xỉu", "", "xẹo", "", "xâu", "xào", ""],
            ["s", "", "sếu", "sẹo", "sửu", "sầu", "sáo", "sau"],
            ["l", "líu", "lếu", "lẹo", "lưu", "lâu", "lao", "lau"],
            ["d", "dịu", "", "dẻo", "", "dâu", "dao", ""],
            ["gi", "", "", "gieo", "", "giấu", "giao", "giàu"],
            ["r", "ríu", "rệu", "reo", "", "râu", "rao", "rau"],
            ["c, k", "", "kêu", "kéo", "cứu", "cấu", "cao", "cáu"],
            ["kh", "khiu", "khều", "khéo", "khứu", "khâu", "khảo", "kháu"],
            ["h", "hiu", "", "héo", "hưu", "hầu", "hào", "hàu"],
            ["ph", "phịu", "phễu", "phèo", "", "phẫu", "phao", "phau"],
            ["v", "víu", "", "vèo", "", "vầu", "vào", ""],
            ["tr", "trìu", "trêu", "trèo", "trừu", "trầu", "trào", "trau"],
            ["ch", "chịu", "", "chèo", "", "châu", "chào", "cháu"],
            ["nh", "nhịu", "", "nheo", "", "nhậu", "nhào", "nhau"],
            ["đ", "địu", "đều", "đeo", "", "đâu", "đào", "đau"],
            ["ng(ngh)", "nghịu", "nghêu", "nghèo", "ngưu", "ngâu", "ngào", ""],
            ["g", "", "", "", "", "gâu", "gạo", "gàu"]
        ];
/*
        // Khai báo audioSegments dưới dạng mảng 2D (23 hàng x 8 cột) để khớp với labels
  const audioSegments = [
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]]
];
*/
const audioSegments = [
    [[0, 0], [0.684989, 1.590567], [1.718277, 2.589025], [2.751565, 3.622313], [3.808073, 4.748481], [5.31737, 6.257778], [6.397098, 7.407166], [7.558095, 8.394014]],
    [[0, 0], [9.438912, 10.36771], [10.576689, 11.540317], [11.679637, 12.399456], [12.515556, 13.455964], [13.502404, 14.407982], [14.616961, 15.45288], [15.719909, 16.648707]],
    [[0, 0], [17.426576, 18.355374], [18.448254, 19.272562], [19.388662, 20.212971], [20.39873, 21.397188], [21.536508, 22.256327], [22.407256, 23.324444], [23.475374, 24.299683]],
    [[0, 0], [24.856961, 25.82059], [25.890249, 26.714558], [26.900317, 27.817506], [0, 0], [28.014875, 28.827574], [29.048163, 30.000181], [30.046621, 30.91737]],
    [[0, 0], [31.590748, 32.507937], [32.624036, 33.494785], [33.587664, 34.504853], [0, 0], [34.551293, 35.456871], [35.503311, 36.408889], [36.513379, 37.349297]],
    [[0, 0], [38.011066, 38.858594], [38.916644, 39.729342], [39.949932, 40.681361], [0, 0], [40.97161, 41.795918], [41.981678, 42.945306], [43.119456, 44.001814]],
    [[0, 0], [44.245624, 45.162812], [0, 0], [45.244082, 46.03356], [0, 0], [46.1961, 47.264218], [47.380317, 48.227846], [0, 0]],
    [[0, 0], [0, 0], [48.912834, 49.957732], [50.004172, 50.874921], [50.95619, 51.815329], [51.908209, 52.813787], [52.883447, 53.823855], [53.928345, 54.903583]],
    [[0, 0], [55.867211, 56.610249], [56.726349, 57.504218], [57.597098, 58.398186], [58.572336, 59.489524], [59.605624, 60.429932], [60.557642, 61.49805], [61.59093, 62.635828]],
    [[0, 0], [63.355646, 64.098685], [0, 0], [64.203175, 65.213243], [0, 0], [65.306122, 66.165261], [66.30458, 67.244989], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [68.417596, 69.404444], [0, 0], [69.474104, 70.263583], [70.356463, 71.250431], [71.389751, 72.214059]],
    [[0, 0], [73.073197, 73.943946], [74.001995, 74.698594], [74.884354, 75.847982], [0, 0], [75.964082, 76.73034], [76.84644, 77.705578], [77.821678, 78.645986]],
    [[0, 0], [0, 0], [79.621224, 80.352653], [80.399093, 81.293061], [81.409161, 82.187029], [82.407619, 83.069388], [83.173878, 84.044626], [84.218776, 84.834104]],
    [[0, 0], [86.087982, 86.88907], [86.99356, 87.875918], [88.026848, 88.851156], [88.920816, 89.687075], [89.838005, 90.557823], [90.708753, 91.393741], [91.498231, 92.2761]],
    [[0, 0], [92.879819, 93.669297], [0, 0], [93.797007, 94.516825], [94.586485, 95.410794], [95.515283, 96.211882], [96.374422, 97.09424], [97.25678, 98.034649]],
    [[0, 0], [98.882177, 99.462676], [99.764535, 100.286984], [100.565624, 101.389932], [0, 0], [101.564082, 102.29551], [102.50449, 103.224308], [103.410068, 104.176327]],
    [[0, 0], [104.977415, 105.627574], [0, 0], [105.743673, 106.567982], [0, 0], [106.718912, 107.42712], [107.61288, 108.413968], [0, 0]],
    [[0, 0], [109.075737, 109.911655], [110.004535, 110.770794], [110.875283, 111.792472], [112.140771, 113.011519], [113.626848, 114.474376], [114.613696, 115.484444], [115.542494, 116.366803]],
    [[0, 0], [116.819592, 117.481361], [0, 0], [117.73678, 118.595918], [0, 0], [118.746848, 119.489887], [119.571156, 120.267755], [120.476735, 121.161723]],
    [[0, 0], [122.067302, 122.65941], [0, 0], [122.7639, 123.588209], [0, 0], [123.704308, 124.400907], [124.528617, 125.306485], [125.480635, 126.223673]],
    [[0, 0], [126.432653, 127.222132], [127.373061, 128.1161], [128.16254, 129.021678], [0, 0], [129.102948, 129.869206], [130.054966, 130.798005], [130.925714, 131.808073]],
    [[0, 0], [132.121542, 132.91102], [133.0039, 133.886259], [133.990748, 134.757007], [134.815057, 135.616145], [135.709025, 136.521723], [136.637823, 137.496961], [0, 0]],
    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [137.729161, 138.576689], [138.657959, 139.447438], [139.609977, 140.41771]]
];


        const audio = document.getElementById("audioPlayer");
        const playbackAudio = document.getElementById("playbackAudio");
        const matrix = document.getElementById("matrix");
        const recordButton = document.getElementById("recordButton");
        const playbackButton = document.getElementById("playbackButton");
        const saveButton = document.getElementById("saveButton");
        let mediaRecorder;
        let recordedChunks = [];
        let isRecording = false;
        let buttons = [];

        // Tạo ma trận nút
        for (let i = 0; i < labels.length; i++) {
            const row = document.createElement("div");
            row.className = "row"; // Thêm class row để áp dụng Flexbox
            buttons[i] = [];
            for (let j = 0; j < 8; j++) { // Số cột là 8
                const button = document.createElement("button");
                // Gán class cho nút dựa trên vị trí
                if (i === 0 && j === 0) {
                    button.className = "button corner-button"; // Ô [0,0] có màu nền đặc biệt
                } else if (i === 0 || j === 0) {
                    button.className = "button header-button"; // Các ô ở hàng 0 hoặc cột 0
                } else {
                    button.className = "button normal-button"; // Các ô còn lại
                }
                button.textContent = labels[i][j];
                button.dataset.row = i; // Lưu chỉ số hàng
                button.dataset.col = j; // Lưu chỉ số cột
                button.onclick = () => playAudioSegment(i, j, button);
                buttons[i][j] = button;
                row.appendChild(button);
            }
            matrix.appendChild(row);
        }

        // Hàm phát đoạn audio gốc
        function playAudioSegment(row, col, button) {
            const [start, end] = audioSegments[row][col];
            if (start === 0 && end === 0) return; // Bỏ qua nếu là [0, 0]

            // Vô hiệu hóa tất cả các nút trước khi phát âm thanh
            buttons.forEach(rowButtons => {
                rowButtons.forEach(btn => {
                    if (btn) btn.disabled = true; // Kiểm tra btn tồn tại để tránh lỗi
                });
            });

            button.classList.add("playing");
            audio.currentTime = start;
            audio.play();
            const duration = (end - start) * 1000; // Chuyển sang mili giây
            setTimeout(() => {
                audio.pause();
                button.classList.remove("playing");
                // Kích hoạt lại tất cả các nút sau khi âm thanh kết thúc
                buttons.forEach(rowButtons => {
                    rowButtons.forEach(btn => {
                        if (btn) btn.disabled = false; // Kiểm tra btn tồn tại để tránh lỗi
                    });
                });
            }, duration);
        }

        // Hàm ghi âm và dừng ghi âm
        recordButton.onclick = () => {
            if (!isRecording) {
                navigator.mediaDevices.getUserMedia({ audio: true })
                    .then(stream => {
                        mediaRecorder = new MediaRecorder(stream);
                        recordedChunks = [];
                        mediaRecorder.ondataavailable = e => recordedChunks.push(e.data);
                        mediaRecorder.onstop = () => {
                            const blob = new Blob(recordedChunks, { type: 'audio/wav' });
                            playbackAudio.src = URL.createObjectURL(blob);
                        };
                        mediaRecorder.start();
                        isRecording = true;
                        recordButton.textContent = "在录";
                        recordButton.className = "button recording";
                    })
                    .catch(err => console.error("Lỗi ghi âm: ", err));
            } else {
                mediaRecorder.stop();
                isRecording = false;
                recordButton.textContent = "录音";
                recordButton.className = "button record-button";
            }
        };

        // Hàm phát lại ghi âm
        playbackButton.onclick = () => {
            if (playbackAudio.src) {
                playbackAudio.play();
            }
        };

        // Hàm lưu ghi âm
        saveButton.onclick = () => {
            if (recordedChunks.length > 0) {
                const blob = new Blob(recordedChunks, { type: 'audio/wav' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement("a");
                a.style.display = "none";
                a.href = url;
                a.download = `recording_${new Date().getTime()}.wav`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            }
        };
    </script>
</p>
<p></p></div>
</div>
</div>
</article>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="3_iy.html" class="prev"><span><span>&laquo; </span>Previous</span></a> <span class="sep">| </span><a href="5_uoiy.html" class="next"><span>Next<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Made with eXeLearning<span> (New Window)</span></span></a></p><script type="text/javascript" src="style_js.js"></script></body></html>
